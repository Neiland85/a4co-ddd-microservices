# Configuración de SonarQube para a4co-ddd-microservices
# ==============================================

# Información del proyecto
sonar.projectKey=a4co-ddd-microservices
sonar.projectName=A4CO DDD Microservices
sonar.projectVersion=1.0.0
sonar.organization=neiland85

# Rutas del código fuente
sonar.sources=apps,packages,src
sonar.tests=apps/**/test,apps/**/*.test.ts,apps/**/*.spec.ts,src/**/*.test.ts

# Exclusiones
sonar.exclusions=**/*.test.ts,**/*.spec.ts,**/node_modules/**,**/dist/**,**/build/**,**/coverage/**,**/.next/**,**/.turbo/**,**/media/**,**/docs/**,**/*.md

# Configuración de cobertura
sonar.javascript.lcov.reportPaths=coverage/lcov.info,apps/**/coverage/lcov.info,packages/**/coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info,apps/**/coverage/lcov.info,packages/**/coverage/lcov.info

# Configuración de tests
sonar.testExecutionReportPaths=test-report.xml,apps/**/test-report.xml,packages/**/test-report.xml

# Configuración de TypeScript/JavaScript
sonar.typescript.tsconfigPaths=tsconfig.json,apps/**/tsconfig.json,packages/**/tsconfig.json
sonar.javascript.node.maxspace=4096

# Umbrales de calidad (Quality Gate)
sonar.duplications.cpd.minimumTokens=50
sonar.duplications.cpd.minimumLines=5

# Configuración de seguridad
sonar.security.hotspots.maxIssues=0

# Configuración adicional para monorepo
sonar.modules=apps-auth-service,apps-user-service,apps-product-service,apps-order-service,apps-inventory-service,apps-dashboard-web,packages-shared-utils

# Módulo: auth-service
apps-auth-service.sonar.projectBaseDir=apps/auth-service
apps-auth-service.sonar.sources=src
apps-auth-service.sonar.tests=test
apps-auth-service.sonar.javascript.lcov.reportPaths=coverage/lcov.info

# Módulo: user-service
apps-user-service.sonar.projectBaseDir=apps/user-service
apps-user-service.sonar.sources=.
apps-user-service.sonar.exclusions=**/*.test.ts,**/*.spec.ts

# Módulo: product-service
apps-product-service.sonar.projectBaseDir=apps/product-service
apps-product-service.sonar.sources=.
apps-product-service.sonar.exclusions=**/*.test.ts,**/*.spec.ts

# Módulo: order-service
apps-order-service.sonar.projectBaseDir=apps/order-service
apps-order-service.sonar.sources=.
apps-order-service.sonar.exclusions=**/*.test.ts,**/*.spec.ts

# Módulo: inventory-service
apps-inventory-service.sonar.projectBaseDir=apps/inventory-service
apps-inventory-service.sonar.sources=.
apps-inventory-service.sonar.exclusions=**/*.test.ts,**/*.spec.ts

# Módulo: dashboard-web
apps-dashboard-web.sonar.projectBaseDir=apps/dashboard-web
apps-dashboard-web.sonar.sources=src
apps-dashboard-web.sonar.exclusions=**/*.test.tsx,**/*.spec.tsx,**/*.stories.tsx

# Módulo: shared-utils
packages-shared-utils.sonar.projectBaseDir=packages/shared-utils
packages-shared-utils.sonar.sources=src
packages-shared-utils.sonar.exclusions=**/*.test.ts,**/*.spec.ts

# Configuración de análisis
sonar.sourceEncoding=UTF-8
sonar.scm.provider=git

# Configuración de cobertura mínima
sonar.coverage.exclusions=**/test/**,**/*.test.ts,**/*.spec.ts,**/node_modules/**,**/dist/**,**/*.d.ts,**/scripts/**,**/media/**
sonar.cpd.exclusions=**/test/**,**/*.test.ts,**/*.spec.ts,**/node_modules/**,**/dist/**

# Configuración simplificada para monorepo
sonar.projectKey=Neiland85_a4co-ddd-microservices
sonar.host.url=https://sonarcloud.io