# ================================================================================
# Production Environment Variables Template
# ================================================================================
# 
# IMPORTANT SECURITY NOTES:
# 1. Copy this file to .env.production and fill in your actual values
# 2. NEVER commit .env.production to version control
# 3. Use strong, unique passwords for all services
# 4. Rotate secrets regularly (at least every 90 days)
# 5. Store secrets in a secure vault (GitHub Secrets, AWS Secrets Manager, etc.)
# 
# USAGE:
#   cp .env.production.template .env.production
#   # Edit .env.production with your secure values
#   docker-compose -f docker-compose.prod.yml --env-file .env.production up -d
# ================================================================================

# ----------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------
# PostgreSQL credentials
# SECURITY: Use strong, unique passwords (min 20 characters with mixed case, numbers, symbols)
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_STRONG_PASSWORD_MIN_20_CHARS
POSTGRES_DB=microservices_db

# ----------------------------------------------------------------
# REDIS CONFIGURATION
# ----------------------------------------------------------------
# Redis password
# SECURITY: Use a strong password for Redis
REDIS_PASSWORD=CHANGE_ME_STRONG_REDIS_PASSWORD

# ----------------------------------------------------------------
# JWT AUTHENTICATION
# ----------------------------------------------------------------
# JWT Secret for token signing
# SECURITY: Generate with: openssl rand -base64 64
JWT_SECRET=CHANGE_ME_GENERATE_WITH_OPENSSL_RAND_BASE64_64
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ----------------------------------------------------------------
# PAYMENT GATEWAY (STRIPE)
# ----------------------------------------------------------------
# Stripe API Keys
# SECURITY: Use production keys only in production, test keys in staging
STRIPE_SECRET_KEY=sk_live_CHANGE_ME_YOUR_STRIPE_SECRET_KEY
STRIPE_WEBHOOK_SECRET=whsec_CHANGE_ME_YOUR_STRIPE_WEBHOOK_SECRET

# Payment simulation (set to false in production)
USE_SIMULATED_PAYMENT=false
PAYMENT_SUCCESS_RATE=0.95

# ----------------------------------------------------------------
# NGINX CONFIGURATION
# ----------------------------------------------------------------
# Nginx port mappings
NGINX_HTTP_PORT=80
NGINX_HTTPS_PORT=443

# ----------------------------------------------------------------
# CORS & API CONFIGURATION
# ----------------------------------------------------------------
# Allowed CORS origins (comma-separated)
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com

# API Gateway configuration
PROXY_TIMEOUT=30000
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=100

# ----------------------------------------------------------------
# FRONTEND CONFIGURATION
# ----------------------------------------------------------------
# Next.js Dashboard Configuration
NEXT_PUBLIC_API_URL=https://api.yourdomain.com/api

# ----------------------------------------------------------------
# LOGGING & MONITORING
# ----------------------------------------------------------------
# Log level: error, warn, info, debug
LOG_LEVEL=info

# ----------------------------------------------------------------
# OBSERVABILITY (Optional)
# ----------------------------------------------------------------
# Sentry DSN for error tracking
SENTRY_DSN=

# OpenTelemetry configuration
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_SERVICE_NAME=a4co-microservices

# ----------------------------------------------------------------
# EMAIL SERVICE (Optional)
# ----------------------------------------------------------------
# SMTP configuration for notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=noreply@yourdomain.com

# ----------------------------------------------------------------
# FEATURE FLAGS (Optional)
# ----------------------------------------------------------------
# Enable/disable features in production
ENABLE_SWAGGER_DOCS=false
ENABLE_DEBUG_ENDPOINTS=false
ENABLE_METRICS_ENDPOINT=true

# ----------------------------------------------------------------
# BACKUP CONFIGURATION (Optional)
# ----------------------------------------------------------------
# Backup service configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30
BACKUP_S3_BUCKET=
BACKUP_S3_ACCESS_KEY=
BACKUP_S3_SECRET_KEY=

# ----------------------------------------------------------------
# SSL/TLS CONFIGURATION
# ----------------------------------------------------------------
# SSL certificate paths (if using custom certificates)
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# ----------------------------------------------------------------
# RESOURCE LIMITS (Optional overrides)
# ----------------------------------------------------------------
# Uncomment to override default resource limits in docker-compose.prod.yml
# MAX_POSTGRES_CONNECTIONS=200
# MAX_REDIS_MEMORY=512mb
# MAX_NATS_CONNECTIONS=1000
