# A4CO DDD Microservices - Environment Variables
# Copy this file to .env and fill in your values

# ==========================================
# DATABASE CONFIGURATION
# ==========================================
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGE_ME_IN_PRODUCTION
POSTGRES_DB=a4co_db
DATABASE_URL=postgresql://postgres:CHANGE_ME_IN_PRODUCTION@localhost:5432/a4co_db

# Database URLs per Service
ORDER_DATABASE_URL=postgresql://postgres:CHANGE_ME_IN_PRODUCTION@localhost:5432/orders_db
PAYMENT_DATABASE_URL=postgresql://postgres:CHANGE_ME_IN_PRODUCTION@localhost:5432/payments_db
INVENTORY_DATABASE_URL=postgresql://postgres:CHANGE_ME_IN_PRODUCTION@localhost:5432/inventory_db
AUTH_DATABASE_URL=postgresql://postgres:CHANGE_ME_IN_PRODUCTION@localhost:5432/auth_db
USER_DATABASE_URL=postgresql://postgres:CHANGE_ME_IN_PRODUCTION@localhost:5432/users_db
PRODUCT_DATABASE_URL=postgresql://postgres:CHANGE_ME_IN_PRODUCTION@localhost:5432/products_db

# ==========================================
# NATS CONFIGURATION
# ==========================================
NATS_URL=nats://localhost:4222
NATS_CLUSTER_ID=a4co-cluster
NATS_CLIENT_ID_PREFIX=a4co-

# ==========================================
# REDIS CONFIGURATION
# ==========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_URL=redis://localhost:6379

# ==========================================
# SERVICE PORTS
# ==========================================
AUTH_SERVICE_PORT=3001
USER_SERVICE_PORT=3002
PRODUCT_SERVICE_PORT=3003
ORDER_SERVICE_PORT=3004
PAYMENT_SERVICE_PORT=3005
INVENTORY_SERVICE_PORT=3006
NOTIFICATION_SERVICE_PORT=3007
GATEWAY_PORT=3000

# ==========================================
# JWT CONFIGURATION
# ==========================================
JWT_SECRET=CHANGE_ME_STRONG_SECRET_KEY_HERE
JWT_EXPIRES_IN=24h
JWT_REFRESH_SECRET=CHANGE_ME_STRONG_REFRESH_SECRET_HERE
JWT_REFRESH_EXPIRES_IN=7d

# ==========================================
# STRIPE CONFIGURATION
# ==========================================
STRIPE_SECRET_KEY=sk_test_YOUR_KEY_HERE
STRIPE_PUBLISHABLE_KEY=pk_test_YOUR_KEY_HERE
STRIPE_WEBHOOK_SECRET=whsec_YOUR_WEBHOOK_SECRET_HERE
STRIPE_API_VERSION=2023-10-16

# ==========================================
# CORS CONFIGURATION
# ==========================================
CORS_ORIGIN=http://localhost:3000,http://localhost:5173
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ==========================================
# MONITORING & OBSERVABILITY
# ==========================================
NODE_ENV=development
LOG_LEVEL=info
GRAFANA_PASSWORD=admin

# OpenTelemetry
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4318
OTEL_SERVICE_NAME=a4co-services
OTEL_TRACES_EXPORTER=otlp
OTEL_METRICS_EXPORTER=otlp

# Prometheus
PROMETHEUS_PORT=9090

# ==========================================
# FEATURE FLAGS
# ==========================================
FEATURE_ADVANCED_CHECKOUT=true
FEATURE_SMART_PRICING=true
FEATURE_SAGA_ENABLED=true

# ==========================================
# BUSINESS RULES
# ==========================================
# Inventory
STOCK_RESERVATION_TTL_MINUTES=15
LOW_STOCK_THRESHOLD=10

# Orders
ORDER_TIMEOUT_MINUTES=30
MAX_RETRY_ATTEMPTS=3

# Payments
PAYMENT_TIMEOUT_SECONDS=120

# ==========================================
# EMAIL CONFIGURATION (Optional)
# ==========================================
SMTP_HOST=smtp.mailtrap.io
SMTP_PORT=2525
SMTP_USER=
SMTP_PASSWORD=
EMAIL_FROM=noreply@a4co.com

# ==========================================
# DEVELOPMENT TOOLS
# ==========================================
DEBUG=false
SWAGGER_ENABLED=true
