# ADR-0012: Estrategia de Escalado y Despliegue en ProducciÃ³n

ğŸ“… Fecha: 2025-07-14  
ğŸ‘¤ Autor: Neil MuÃ±oz Lago  
ğŸ”– Estado: Propuesta  
ğŸ” Reemplaza: â€”

---

## ğŸ¯ Contexto

Con la plataforma OchioClub alcanzando producciÃ³n, necesitamos definir un modelo de despliegue y escalabilidad que soporte crecimiento gradual y eventos de alta concurrencia sin caÃ­das ni degradaciÃ³n de servicio.

---

## âœ… DecisiÃ³n

- Desplegar todos los microservicios en AWS ECS Fargate.
- Utilizar estrategia de despliegue Blue-Green para minimizar downtime.
- Implementar polÃ­ticas de auto-scaling basadas en CPU/memoria y latencia.
- Gestionar toda infraestructura con Terraform como cÃ³digo declarativo.

---

## ğŸ”„ Alternativas consideradas

- âŒ Usar Kubernetes autogestionado: complejidad innecesaria para el nivel actual.
- âŒ Despliegue directo en instancias EC2: menor flexibilidad y coste operativo mayor.
- âœ… AWS ECS + Fargate + Terraform: equilibrio entre control, automatizaciÃ³n y coste.

---

## ğŸ§  Consecuencias

- ğŸŸ¢ Despliegue reproducible, versionado, sin intervenciÃ³n manual
- ğŸŸ¢ Alta disponibilidad con escalado horizontal automÃ¡tico
- ğŸŸ¡ Necesidad de definir healthchecks por microservicio
- ğŸ”´ Costes aumentan si no se controlan triggers de escalado

---

## ğŸ§© Acciones asociadas

1. Escribir Dockerfiles optimizados para todos los servicios
2. Configurar Terraform para ECS tasks, clusters, servicios y roles IAM
3. Activar escalado automÃ¡tico por mÃ©trica en CloudWatch
4. Validar con despliegues canary y rollback automÃ¡tico en GitHub Actions

---

## ğŸ“ Referencias

- [docs/infra/terraform-aws.md](../docs/infra/terraform-aws.md)
- [ADR-0006: CI/CD en GitHub Actions](./adr-0006-ci-cd.md)
