      develop

     feature/copilot-prompts-dashboard
# ADR-0011: Tooling y convenciones

## Contexto

Se requiere una estrategia para estandarizar las herramientas y convenciones en el monorepo `a4co-ddd-microservices`.

## Decisión

1. Configurar ESLint y Prettier para mantener un estilo de código consistente.
2. Usar TypeScript con configuración estricta para mejorar la calidad del código.
3. Implementar Husky y lint-staged para garantizar la calidad del código antes de los commits.
4. Configurar pruebas unitarias con Jest y documentarlas oficialmente.
5. Adoptar Playwright como herramienta oficial para pruebas E2E debido a las siguientes razones:
   - **Soporte multi-navegador**: Playwright permite ejecutar pruebas en Chrome, Firefox, Safari y Edge, mientras que Cypress está limitado principalmente a Chrome.
   - **Escenarios avanzados**: Playwright soporta pruebas en dispositivos móviles, emulación de geolocalización, y manipulación de permisos de navegador.
   - **Integración con GitHub Actions**: Playwright se integra fácilmente con GitHub Actions para ejecutar pruebas automatizadas en pipelines CI/CD.
   - **Velocidad y rendimiento**: Playwright ofrece tiempos de ejecución más rápidos y mejor manejo de pruebas paralelas.

## Consecuencias

1. Mayor consistencia en el estilo de código.
2. Reducción de errores en tiempo de ejecución gracias a TypeScript.
3. Automatización de validaciones antes de los commits.
4. Base sólida para pruebas unitarias y documentación técnica.
5. Se deberá configurar Playwright en el proyecto y descontinuar el uso de Cypress.
6. Los colaboradores deberán familiarizarse con la sintaxis y convenciones de Playwright.
7. Se implementarán pruebas E2E como parte del flujo de desarrollo en GitHub Actions.

## Acciones

1. Configurar ESLint y Prettier en el proyecto.
2. Implementar Husky y lint-staged.
3. Crear pruebas unitarias iniciales en `src/example.test.ts`.
4. Documentar las pruebas unitarias en este ADR.
5. Agregar Playwright como dependencia en el proyecto.
6. Crear un archivo de configuración `playwright.config.ts` para definir navegadores, dispositivos y opciones de ejecución.
7. Configurar un workflow en GitHub Actions que ejecute las pruebas E2E en cada PR y merge a `develop`.

## Resultados

Las pruebas unitarias se ejecutaron exitosamente:

- **Archivo**: `src/example.test.ts`
- **Pruebas**:
  - Validación de la función `sum` para números positivos, negativos y cero.
  - Prueba básica de ejemplo.
- **Resultados**: Todas las pruebas pasaron correctamente.

     main
# ADR-0011: Adopción de Playwright para pruebas E2E

## Contexto

El proyecto `a4co-ddd-microservices` requiere una herramienta robusta para pruebas de extremo a extremo (E2E) que permita validar la funcionalidad de los microservicios en diferentes navegadores y dispositivos. Actualmente, Cypress es una opción popular, pero presenta limitaciones en pruebas multi-navegador y soporte para escenarios avanzados.

## Decisión

Se decide adoptar Playwright como herramienta oficial para pruebas E2E debido a las siguientes razones:

1. **Soporte multi-navegador**: Playwright permite ejecutar pruebas en Chrome, Firefox, Safari y Edge, mientras que Cypress está limitado principalmente a Chrome.
2. **Escenarios avanzados**: Playwright soporta pruebas en dispositivos móviles, emulación de geolocalización, y manipulación de permisos de navegador.
3. **Integración con GitHub Actions**: Playwright se integra fácilmente con GitHub Actions para ejecutar pruebas automatizadas en pipelines CI/CD.
4. **Velocidad y rendimiento**: Playwright ofrece tiempos de ejecución más rápidos y mejor manejo de pruebas paralelas.

## Consecuencias

1. Se deberá configurar Playwright en el proyecto y descontinuar el uso de Cypress.
2. Los colaboradores deberán familiarizarse con la sintaxis y convenciones de Playwright.
3. Se implementarán pruebas E2E como parte del flujo de desarrollo en GitHub Actions.
    develop

     main
      main

---

## Integración con GitHub Actions

Para integrar Playwright con GitHub Actions, se seguirán los siguientes pasos:

1. **Instalación**: Agregar Playwright como dependencia en el proyecto.
2. **Configuración**: Crear un archivo de configuración `playwright.config.ts` para definir navegadores, dispositivos y opciones de ejecución.
3. **Pipeline**: Configurar un workflow en GitHub Actions que ejecute las pruebas E2E en cada PR y merge a `develop`.

---

## Convenciones para escribir tests

1. **Estructura**: Los tests se organizarán en carpetas por funcionalidad (`tests/e2e/`).
2. **Nombres**: Los archivos de test seguirán el formato `nombre-funcionalidad.spec.ts`.
3. **Buenas prácticas**: Se utilizarán fixtures para datos comunes y se evitará la duplicación de código.

---

## Referencias

Este ADR se alinea con las decisiones previas documentadas en `ADR-0010` y las convenciones establecidas en el archivo adjunto `MJZA_ZB1.0-🔖 ADRs a4co-ddd-microservices .pdf`.
     develop

    feature/copilot-prompts-dashboard

- [Jest](https://jestjs.io/)
- [ESLint](https://eslint.org/)
- [Prettier](https://prettier.io/)
       main
       main
