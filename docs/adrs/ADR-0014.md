# ADR-0014: Integraciones Externas (Pagos, Email, SMS, Mapas)

📅 Fecha: 2025-07-14  
👤 Autor: Neil Muñoz Lago  
🔖 Estado: Propuesta  
🔁 Reemplaza: —

---

## 🎯 Contexto

OchioClub requiere múltiples integraciones externas para funciones críticas como procesamiento de pagos, notificaciones transaccionales y geolocalización. Estas integraciones deben estar documentadas, securizadas y alineadas con las necesidades del negocio.

---

## ✅ Decisión

- Pagos: Usar Stripe (checkout web + webhook + Stripe React Native SDK)
- Email: Usar SendGrid API con plantillas predefinidas y fallback a SMTP local
- SMS: Usar Twilio API para 2FA y confirmaciones de pedidos
- Mapas: Google Maps Platform (Geocoding, Directions, Maps SDK)

---

## 🔄 Alternativas consideradas

- ❌ PayPal (menos flexible en personalización y multi-device)
- ❌ Nodemailer-only para email (no escalable en cloud)
- ✅ Stripe, Twilio, SendGrid y Maps por soporte, documentación y comunidad amplia

---

## 🧠 Consecuencias

- 🟢 Interacciones clave (pago, confirmación) confiables
- 🟢 Soporte multiplataforma (web, móvil)
- 🔴 Necesidad de protección exhaustiva de tokens/API keys

---

## 🧩 Acciones asociadas

1. Configurar GitHub Secrets y `.env` cifrado por entorno
2. Implementar módulos por integración: pagos, email, SMS, mapas
3. Validar seguridad de webhooks (firma + replay attack)
4. Documentar endpoints públicos, callbacks y orden de ejecución

---

## 📎 Referencias

- [docs/integraciones.md](../docs/integraciones.md)
- [ADR-0010: Copilot Config](./adr-0010-copilot-config.md)
