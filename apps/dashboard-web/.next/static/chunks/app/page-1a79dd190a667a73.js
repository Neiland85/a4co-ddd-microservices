(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1990:function(e,s,t){Promise.resolve().then(t.bind(t,2724))},2724:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return l}});var a=t(9245),d=t(9703);async function r(){try{let e=await fetch("".concat("http://localhost:3001","/api/dashboard/stats"),{cache:"no-store"});if(!e.ok)throw Error("Failed to fetch dashboard data");return e.json()}catch(e){return console.error("Error fetching dashboard data:",e),null}}function l(){var e,s,t,l,i,n,c,x;let[o,m]=(0,d.useState)(null),[h,g]=(0,d.useState)(!0);return((0,d.useEffect)(()=>{r().then(e=>{m(e),g(!1)})},[]),h)?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Dashboard"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:[(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),(0,a.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/2"})]},s))}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow animate-pulse",children:[(0,a.jsx)("div",{className:"h-6 bg-gray-200 rounded w-1/4 mb-4"}),(0,a.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,s)=>(0,a.jsx)("div",{className:"h-4 bg-gray-200 rounded"},s))})]})]})}):o?(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-8",children:"Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total Orders"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=o.stats)||void 0===e?void 0:e.total_orders)||0})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Average Order Value"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(t=o.stats)||void 0===t?void 0:null===(s=t.avg_order_value)||void 0===s?void 0:s.toFixed(2))||"0.00"]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Total Revenue"}),(0,a.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",(null===(i=o.stats)||void 0===i?void 0:null===(l=i.total_revenue)||void 0===l?void 0:l.toFixed(2))||"0.00"]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Unique Customers"}),(0,a.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(n=o.stats)||void 0===n?void 0:n.unique_customers)||0})]})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow mb-8",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Orders"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,a.jsx)("thead",{className:"bg-gray-50",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Order ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"User ID"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,a.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,a.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:(null===(c=o.recentOrders)||void 0===c?void 0:c.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.id}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.user_id}),(0,a.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["$",e.amount]}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})}),(0,a.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]},e.id)))||[]})]})})]}),(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Top Products"}),(0,a.jsx)("div",{className:"space-y-4",children:(null===(x=o.topProducts)||void 0===x?void 0:x.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.product_name}),(0,a.jsxs)("p",{className:"text-sm text-gray-500",children:[e.total_orders," orders"]})]}),(0,a.jsx)("div",{className:"text-right",children:(0,a.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.total_quantity," units"]})})]},s)))||[]})]})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Error loading dashboard"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Unable to fetch dashboard data. Please try again later."})]})})}}},function(e){e.O(0,[321,433,744],function(){return e(e.s=1990)}),_N_E=e.O()}]);