'use client';
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = MapFilters;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const button_1 = require("@/components/ui/button");
const input_1 = require("@/components/ui/input");
const label_1 = require("@/components/ui/label");
const slider_1 = require("@/components/ui/slider");
const checkbox_1 = require("@/components/ui/checkbox");
const badge_1 = require("@/components/ui/badge");
const card_1 = require("@/components/ui/card");
const sheet_1 = require("@/components/ui/sheet");
const lucide_react_1 = require("lucide-react");
const utils_1 = require("@/lib/utils");
const categories = [
    { value: 'all', label: 'Todas las categorías', count: 0 },
    { value: 'panaderia', label: 'Panaderías', count: 0 },
    { value: 'queseria', label: 'Queserías', count: 0 },
    { value: 'aceite', label: 'Aceite de Oliva', count: 0 },
    { value: 'miel', label: 'Miel', count: 0 },
    { value: 'conservas', label: 'Conservas', count: 0 },
    { value: 'vino', label: 'Vinos', count: 0 },
    { value: 'embutidos', label: 'Embutidos', count: 0 },
    { value: 'dulces', label: 'Dulces', count: 0 },
];
function MapFilters({ filters, stats, onFiltersChange, onReset }) {
    const [isOpen, setIsOpen] = (0, react_1.useState)(false);
    const activeFiltersCount = [
        filters.search && 1,
        filters.category !== 'all' && 1,
        filters.maxDistance < 10 && 1,
        filters.minRating > 0 && 1,
        filters.onlyOpen && 1,
    ].filter(Boolean).length;
    const FilterContent = () => ((0, jsx_runtime_1.jsxs)("div", { className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "search", children: "Buscar productores" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Search, { className: "absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 transform text-gray-400" }), (0, jsx_runtime_1.jsx)(input_1.Input, { id: "search", placeholder: "Nombre, ubicaci\u00F3n o especialidad...", value: filters.search, onChange: e => onFiltersChange({ search: e.target.value }), className: "pl-10" }), filters.search && ((0, jsx_runtime_1.jsx)(button_1.Button, { variant: "ghost", size: "sm", onClick: () => onFiltersChange({ search: '' }), className: "absolute right-1 top-1/2 h-6 w-6 -translate-y-1/2 transform p-0 hover:bg-gray-100", children: (0, jsx_runtime_1.jsx)(lucide_react_1.X, { className: "h-3 w-3" }) }))] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { children: "Categor\u00EDa" }), (0, jsx_runtime_1.jsx)("div", { className: "grid grid-cols-1 gap-2", children: categories.map(category => ((0, jsx_runtime_1.jsxs)("div", { className: (0, utils_1.cn)('flex cursor-pointer items-center justify-between rounded-lg border p-3 transition-all duration-200 hover:bg-gray-50', filters.category === category.value
                                ? 'border-a4co-olive-300 bg-a4co-olive-50'
                                : 'border-gray-200'), onClick: () => onFiltersChange({ category: category.value }), children: [(0, jsx_runtime_1.jsx)("span", { className: "text-sm font-medium", children: category.label }), filters.category === category.value && ((0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "secondary", className: "bg-a4co-olive-100 text-a4co-olive-800", children: "Seleccionado" }))] }, category.value))) })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { children: "Distancia m\u00E1xima" }), (0, jsx_runtime_1.jsxs)("span", { className: "text-sm text-gray-600", children: [filters.maxDistance, "km"] })] }), (0, jsx_runtime_1.jsx)(slider_1.Slider, { value: [filters.maxDistance], onValueChange: ([value]) => onFiltersChange({ maxDistance: value }), max: 20, min: 1, step: 0.5, className: "w-full" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between text-xs text-gray-500", children: [(0, jsx_runtime_1.jsx)("span", { children: "1km" }), (0, jsx_runtime_1.jsx)("span", { children: "20km" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsx)(label_1.Label, { children: "Valoraci\u00F3n m\u00EDnima" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-1", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Star, { className: "h-3 w-3 fill-current text-yellow-500" }), (0, jsx_runtime_1.jsx)("span", { className: "text-sm text-gray-600", children: filters.minRating.toFixed(1) })] })] }), (0, jsx_runtime_1.jsx)(slider_1.Slider, { value: [filters.minRating], onValueChange: ([value]) => onFiltersChange({ minRating: value }), max: 5, min: 0, step: 0.1, className: "w-full" }), (0, jsx_runtime_1.jsxs)("div", { className: "flex justify-between text-xs text-gray-500", children: [(0, jsx_runtime_1.jsx)("span", { children: "0.0" }), (0, jsx_runtime_1.jsx)("span", { children: "5.0" })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-3 rounded-lg bg-gray-50 p-3", children: [(0, jsx_runtime_1.jsx)(checkbox_1.Checkbox, { id: "onlyOpen", checked: filters.onlyOpen, onCheckedChange: checked => onFiltersChange({ onlyOpen: !!checked }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center space-x-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { className: "h-4 w-4 text-gray-500" }), (0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "onlyOpen", className: "cursor-pointer text-sm font-medium", children: "Solo abiertos ahora" })] })] }), (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "outline", onClick: onReset, className: "w-full bg-transparent", disabled: activeFiltersCount === 0, children: [(0, jsx_runtime_1.jsx)(lucide_react_1.RotateCcw, { className: "mr-2 h-4 w-4" }), "Limpiar filtros"] })] }));
    return ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsxs)("div", { className: "mb-6 grid grid-cols-2 gap-4 lg:grid-cols-4", children: [(0, jsx_runtime_1.jsx)(card_1.Card, { className: "hover:shadow-natural-lg transition-all duration-300", children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: "p-4", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-xs font-medium text-gray-600", children: "Productores" }), (0, jsx_runtime_1.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: stats.total })] }), (0, jsx_runtime_1.jsx)(lucide_react_1.MapPin, { className: "text-a4co-olive-600 h-8 w-8" })] }) }) }), (0, jsx_runtime_1.jsx)(card_1.Card, { className: "hover:shadow-natural-lg transition-all duration-300", children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: "p-4", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-xs font-medium text-gray-600", children: "Categor\u00EDas" }), (0, jsx_runtime_1.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: stats.categories })] }), (0, jsx_runtime_1.jsx)(lucide_react_1.Filter, { className: "text-a4co-clay-600 h-8 w-8" })] }) }) }), (0, jsx_runtime_1.jsx)(card_1.Card, { className: "hover:shadow-natural-lg transition-all duration-300", children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: "p-4", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-xs font-medium text-gray-600", children: "Valoraci\u00F3n" }), (0, jsx_runtime_1.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: stats.averageRating.toFixed(1) })] }), (0, jsx_runtime_1.jsx)(lucide_react_1.Star, { className: "h-8 w-8 fill-current text-yellow-500" })] }) }) }), (0, jsx_runtime_1.jsx)(card_1.Card, { className: "hover:shadow-natural-lg transition-all duration-300", children: (0, jsx_runtime_1.jsx)(card_1.CardContent, { className: "p-4", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("p", { className: "text-xs font-medium text-gray-600", children: "Abiertos" }), (0, jsx_runtime_1.jsx)("p", { className: "text-2xl font-bold text-gray-900", children: stats.openNow })] }), (0, jsx_runtime_1.jsx)(lucide_react_1.Clock, { className: "h-8 w-8 text-green-600" })] }) }) })] }), (0, jsx_runtime_1.jsx)("div", { className: "mb-4 lg:hidden", children: (0, jsx_runtime_1.jsxs)(sheet_1.Sheet, { open: isOpen, onOpenChange: setIsOpen, children: [(0, jsx_runtime_1.jsx)(sheet_1.SheetTrigger, { asChild: true, children: (0, jsx_runtime_1.jsxs)(button_1.Button, { variant: "outline", className: "relative w-full bg-transparent", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Filter, { className: "mr-2 h-4 w-4" }), "Filtros", activeFiltersCount > 0 && ((0, jsx_runtime_1.jsx)(badge_1.Badge, { variant: "secondary", className: "bg-a4co-olive-100 text-a4co-olive-800 ml-2", children: activeFiltersCount }))] }) }), (0, jsx_runtime_1.jsxs)(sheet_1.SheetContent, { side: "left", className: "w-80", children: [(0, jsx_runtime_1.jsxs)(sheet_1.SheetHeader, { children: [(0, jsx_runtime_1.jsx)(sheet_1.SheetTitle, { children: "Filtros de b\u00FAsqueda" }), (0, jsx_runtime_1.jsx)(sheet_1.SheetDescription, { children: "Encuentra productores artesanales cerca de ti" })] }), (0, jsx_runtime_1.jsx)("div", { className: "mt-6", children: (0, jsx_runtime_1.jsx)(FilterContent, {}) })] })] }) }), (0, jsx_runtime_1.jsxs)(card_1.Card, { className: "shadow-natural-lg mb-6 hidden lg:block", children: [(0, jsx_runtime_1.jsx)(card_1.CardHeader, { children: (0, jsx_runtime_1.jsxs)("div", { className: "flex items-center justify-between", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsxs)(card_1.CardTitle, { className: "flex items-center", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Filter, { className: "mr-2 h-5 w-5" }), "Filtros de b\u00FAsqueda"] }), (0, jsx_runtime_1.jsx)(card_1.CardDescription, { children: "Encuentra productores artesanales cerca de ti" })] }), activeFiltersCount > 0 && ((0, jsx_runtime_1.jsxs)(badge_1.Badge, { variant: "secondary", className: "bg-a4co-olive-100 text-a4co-olive-800", children: [activeFiltersCount, " filtro", activeFiltersCount > 1 ? 's' : '', " activo", activeFiltersCount > 1 ? 's' : ''] }))] }) }), (0, jsx_runtime_1.jsx)(card_1.CardContent, { children: (0, jsx_runtime_1.jsx)(FilterContent, {}) })] })] }));
}
//# sourceMappingURL=map-filters.js.map