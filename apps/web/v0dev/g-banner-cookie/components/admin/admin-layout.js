'use client';
"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.default = AdminLayout;
const jsx_runtime_1 = require("react/jsx-runtime");
// If you encounter a type error with @heroicons/react/outline, add the following to a global.d.ts file:
// declare module '@heroicons/react/outline';
const outline_1 = require("@heroicons/react/outline");
const react_1 = require("next-auth/react");
const link_1 = __importDefault(require("next/link"));
const react_2 = require("react");
const websocket_service_1 = require("../../services/websocket-service");
const real_time_status_1 = __importDefault(require("./real-time-status"));
function classNames(...classes) {
    return classes.filter(Boolean).join(' ');
}
function AdminLayout({ children }) {
    const { data: session } = (0, react_1.useSession)();
    // Initialize WebSocket connection
    (0, react_2.useEffect)(() => {
        const wsService = (0, websocket_service_1.getWebSocketService)();
        wsService.connect().catch(console.error);
        return () => {
            wsService.disconnect();
        };
    }, []);
    return ((0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("div", { className: "hidden bg-gray-800 md:fixed md:inset-y-0 md:flex md:w-64 md:flex-col", children: (0, jsx_runtime_1.jsxs)("div", { className: "flex flex-grow flex-col overflow-y-auto bg-gray-800 pt-5", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex flex-shrink-0 items-center px-4", children: (0, jsx_runtime_1.jsx)(link_1.default, { href: "/", children: (0, jsx_runtime_1.jsx)("a", { className: "text-2xl font-bold text-white", children: "Admin" }) }) }), (0, jsx_runtime_1.jsx)("div", { className: "mt-6 flex flex-grow flex-col", children: (0, jsx_runtime_1.jsxs)("nav", { className: "flex-1 space-y-1 bg-gray-800 px-2", "aria-label": "Sidebar", children: [(0, jsx_runtime_1.jsx)(link_1.default, { href: "/admin", children: (0, jsx_runtime_1.jsxs)("a", { className: classNames('bg-gray-900 text-white', 'group flex items-center rounded-md px-2 py-2 text-sm font-medium'), children: [(0, jsx_runtime_1.jsx)(outline_1.ViewGridIcon, { className: "mr-3 h-6 w-6 flex-shrink-0 text-gray-300", "aria-hidden": "true" }), "Dashboard"] }) }), (0, jsx_runtime_1.jsx)(link_1.default, { href: "/admin/users", children: (0, jsx_runtime_1.jsxs)("a", { className: classNames('text-gray-300 hover:bg-gray-700 hover:text-white', 'group flex items-center rounded-md px-2 py-2 text-sm font-medium'), children: [(0, jsx_runtime_1.jsx)(outline_1.OutlinePersonIcon, { className: "mr-3 h-6 w-6 flex-shrink-0 text-gray-400", "aria-hidden": "true" }), "Users"] }) })] }) })] }) }), (0, jsx_runtime_1.jsxs)("div", { className: "flex flex-1 flex-col md:pl-64", children: [(0, jsx_runtime_1.jsxs)("div", { className: "sticky top-0 z-10 flex h-16 flex-shrink-0 border-b border-gray-200 bg-white", children: [(0, jsx_runtime_1.jsxs)("button", { type: "button", className: "border-r border-gray-200 px-4 text-gray-500 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500 md:hidden", children: [(0, jsx_runtime_1.jsx)("span", { className: "sr-only", children: "Open sidebar" }), (0, jsx_runtime_1.jsx)(outline_1.MenuIcon, { className: "h-6 w-6", "aria-hidden": "true" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "flex flex-1 justify-between px-4", children: [(0, jsx_runtime_1.jsx)("div", { className: "flex flex-1", children: (0, jsx_runtime_1.jsxs)("form", { className: "flex w-full md:ml-0", action: "#", method: "GET", children: [(0, jsx_runtime_1.jsx)("label", { htmlFor: "search-field", className: "sr-only", children: "Search" }), (0, jsx_runtime_1.jsxs)("div", { className: "relative w-full text-gray-400 focus-within:text-gray-600", children: [(0, jsx_runtime_1.jsx)("div", { className: "pointer-events-none absolute inset-y-0 left-0 flex items-center", children: (0, jsx_runtime_1.jsx)(outline_1.SearchIcon, { className: "h-5 w-5", "aria-hidden": "true" }) }), (0, jsx_runtime_1.jsx)("input", { id: "search-field", className: "block h-full w-full border-transparent py-2 pl-8 pr-3 text-gray-900 placeholder-gray-500 focus:border-transparent focus:placeholder-gray-400 focus:outline-none focus:ring-0 sm:text-sm", placeholder: "Search", type: "search", name: "search" })] })] }) }), (0, jsx_runtime_1.jsxs)("div", { className: "ml-4 flex items-center md:ml-6", children: [(0, jsx_runtime_1.jsx)(real_time_status_1.default, { className: "mr-4" }), (0, jsx_runtime_1.jsxs)("button", { type: "button", className: "rounded-full bg-white p-1 text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2", children: [(0, jsx_runtime_1.jsx)("span", { className: "sr-only", children: "View notifications" }), (0, jsx_runtime_1.jsx)(outline_1.BellIcon, { className: "h-6 w-6", "aria-hidden": "true" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "relative ml-3", children: [(0, jsx_runtime_1.jsx)("div", { children: (0, jsx_runtime_1.jsxs)("button", { type: "button", className: "flex max-w-xs items-center rounded-full bg-white text-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2", id: "user-menu-button", "aria-expanded": "false", "aria-haspopup": "true", children: [(0, jsx_runtime_1.jsx)("span", { className: "sr-only", children: "Open user menu" }), (0, jsx_runtime_1.jsx)("img", { className: "h-8 w-8 rounded-full", src: session?.user?.image ||
                                                                        'https://images.unsplash.com/photo-1472099645785-5658abf49a45?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=facearea&facepad=2&w=256&h=256&q=80', alt: "" })] }) }), (0, jsx_runtime_1.jsx)("button", { onClick: () => (0, react_1.signOut)(), className: "rounded bg-red-500 px-4 py-2 font-bold text-white hover:bg-red-700", children: "Sign Out" })] })] })] })] }), (0, jsx_runtime_1.jsx)("main", { className: "flex-1", children: (0, jsx_runtime_1.jsxs)("div", { className: "py-6", children: [(0, jsx_runtime_1.jsx)("div", { className: "mx-auto max-w-7xl px-4 sm:px-6 md:px-8", children: (0, jsx_runtime_1.jsx)("h1", { className: "text-2xl font-semibold text-gray-900", children: "Dashboard" }) }), (0, jsx_runtime_1.jsx)("div", { className: "mx-auto max-w-7xl px-4 sm:px-6 md:px-8", children: children })] }) })] })] }));
}
//# sourceMappingURL=admin-layout.js.map