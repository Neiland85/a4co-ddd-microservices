'use client';
"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.A4coSignupForm = A4coSignupForm;
const jsx_runtime_1 = require("react/jsx-runtime");
const react_1 = require("react");
const framer_motion_1 = require("framer-motion");
const react_hook_form_1 = require("react-hook-form");
const zod_1 = require("@hookform/resolvers/zod");
const card_1 = require("@/components/ui/card");
const button_1 = require("@/components/ui/button");
const input_1 = require("@/components/ui/input");
const label_1 = require("@/components/ui/label");
const checkbox_1 = require("@/components/ui/checkbox");
const select_1 = require("@/components/ui/select");
const validation_1 = require("@/lib/validation");
const form_progress_1 = require("./form-progress");
const lucide_react_1 = require("lucide-react");
function A4coSignupForm({ onSuccess }) {
    const [currentStep, setCurrentStep] = (0, react_1.useState)(0);
    const [showPassword, setShowPassword] = (0, react_1.useState)(false);
    const [showConfirmPassword, setShowConfirmPassword] = (0, react_1.useState)(false);
    const [isLoading, setIsLoading] = (0, react_1.useState)(false);
    const stepLabels = ['Información Personal', 'Empresa', 'Seguridad', 'Confirmación'];
    const { register, handleSubmit, formState: { errors }, watch, setValue, trigger, } = (0, react_hook_form_1.useForm)({
        resolver: (0, zod_1.zodResolver)(validation_1.a4coSignupSchema),
        mode: 'onChange',
    });
    const watchedFields = watch();
    const validateCurrentStep = async () => {
        const fieldsToValidate = getFieldsForStep(currentStep);
        return await trigger(fieldsToValidate);
    };
    const getFieldsForStep = (step) => {
        switch (step) {
            case 0:
                return ['firstName', 'lastName', 'email'];
            case 1:
                return ['company', 'jobTitle'];
            case 2:
                return ['password', 'confirmPassword'];
            case 3:
                return ['acceptTerms'];
            default:
                return [];
        }
    };
    const nextStep = async () => {
        const isValid = await validateCurrentStep();
        if (isValid && currentStep < stepLabels.length - 1) {
            setCurrentStep(currentStep + 1);
        }
    };
    const prevStep = () => {
        if (currentStep > 0) {
            setCurrentStep(currentStep - 1);
        }
    };
    const onSubmit = async (data) => {
        setIsLoading(true);
        // Simular registro
        await new Promise(resolve => setTimeout(resolve, 2000));
        setIsLoading(false);
        onSuccess(data);
    };
    const jobTitles = [
        'CEO/Fundador',
        'CTO/Director de Tecnología',
        'Gerente General',
        'Director de Marketing',
        'Director de Ventas',
        'Gerente de Proyecto',
        'Desarrollador',
        'Analista',
        'Consultor',
        'Otro',
    ];
    return ((0, jsx_runtime_1.jsxs)(card_1.Card, { className: "border border-gray-200 bg-white/95 p-8 shadow-xl backdrop-blur-lg", children: [(0, jsx_runtime_1.jsx)(form_progress_1.FormProgress, { currentStep: currentStep, totalSteps: stepLabels.length, stepLabels: stepLabels }), (0, jsx_runtime_1.jsxs)("form", { onSubmit: handleSubmit(onSubmit), children: [(0, jsx_runtime_1.jsxs)(framer_motion_1.AnimatePresence, { mode: "wait", children: [currentStep === 0 && ((0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, x: 20 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -20 }, className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "mb-2 text-xl font-semibold text-gray-900", children: "Informaci\u00F3n Personal" }), (0, jsx_runtime_1.jsx)("p", { className: "mb-6 text-gray-600", children: "Cu\u00E9ntanos un poco sobre ti" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "grid gap-4 md:grid-cols-2", children: [(0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)(label_1.Label, { htmlFor: "firstName", className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.User, { size: 16, className: "text-blue-600" }), "Nombre"] }), (0, jsx_runtime_1.jsx)(input_1.Input, { ...register('firstName'), id: "firstName", placeholder: "Tu nombre", className: "border-2 border-gray-200 transition-colors focus:border-blue-500" }), errors.firstName && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", children: errors.firstName.message }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)(label_1.Label, { htmlFor: "lastName", className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.User, { size: 16, className: "text-blue-600" }), "Apellido"] }), (0, jsx_runtime_1.jsx)(input_1.Input, { ...register('lastName'), id: "lastName", placeholder: "Tu apellido", className: "border-2 border-gray-200 transition-colors focus:border-blue-500" }), errors.lastName && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", children: errors.lastName.message }))] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)(label_1.Label, { htmlFor: "email", className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Mail, { size: 16, className: "text-blue-600" }), "Correo Electr\u00F3nico Corporativo"] }), (0, jsx_runtime_1.jsx)(input_1.Input, { ...register('email'), id: "email", type: "email", placeholder: "tu.nombre@empresa.com", className: "border-2 border-gray-200 transition-colors focus:border-blue-500" }), errors.email && (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", children: errors.email.message })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)(label_1.Label, { htmlFor: "phone", className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Phone, { size: 16, className: "text-blue-600" }), "Tel\u00E9fono (Opcional)"] }), (0, jsx_runtime_1.jsx)(input_1.Input, { ...register('phone'), id: "phone", type: "tel", placeholder: "+1 (555) 123-4567", className: "border-2 border-gray-200 transition-colors focus:border-blue-500" })] })] }, "step-0")), currentStep === 1 && ((0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, x: 20 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -20 }, className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "mb-2 text-xl font-semibold text-gray-900", children: "Informaci\u00F3n de la Empresa" }), (0, jsx_runtime_1.jsx)("p", { className: "mb-6 text-gray-600", children: "Detalles sobre tu organizaci\u00F3n" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)(label_1.Label, { htmlFor: "company", className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Building, { size: 16, className: "text-blue-600" }), "Nombre de la Empresa"] }), (0, jsx_runtime_1.jsx)(input_1.Input, { ...register('company'), id: "company", placeholder: "Acme Corporation", className: "border-2 border-gray-200 transition-colors focus:border-blue-500" }), errors.company && (0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", children: errors.company.message })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)(label_1.Label, { htmlFor: "jobTitle", className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Briefcase, { size: 16, className: "text-blue-600" }), "Cargo/Posici\u00F3n"] }), (0, jsx_runtime_1.jsxs)(select_1.Select, { onValueChange: value => setValue('jobTitle', value), children: [(0, jsx_runtime_1.jsx)(select_1.SelectTrigger, { className: "border-2 border-gray-200 focus:border-blue-500", children: (0, jsx_runtime_1.jsx)(select_1.SelectValue, { placeholder: "Selecciona tu cargo" }) }), (0, jsx_runtime_1.jsx)(select_1.SelectContent, { children: jobTitles.map(title => ((0, jsx_runtime_1.jsx)(select_1.SelectItem, { value: title, children: title }, title))) })] }), errors.jobTitle && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", children: errors.jobTitle.message }))] })] }, "step-1")), currentStep === 2 && ((0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, x: 20 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -20 }, className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "mb-2 text-xl font-semibold text-gray-900", children: "Configuraci\u00F3n de Seguridad" }), (0, jsx_runtime_1.jsx)("p", { className: "mb-6 text-gray-600", children: "Crea una contrase\u00F1a segura para tu cuenta" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)(label_1.Label, { htmlFor: "password", className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Lock, { size: 16, className: "text-blue-600" }), "Contrase\u00F1a"] }), (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)(input_1.Input, { ...register('password'), id: "password", type: showPassword ? 'text' : 'password', placeholder: "M\u00EDnimo 8 caracteres", className: "border-2 border-gray-200 pr-10 transition-colors focus:border-blue-500" }), (0, jsx_runtime_1.jsx)("button", { type: "button", onClick: () => setShowPassword(!showPassword), className: "absolute right-3 top-1/2 -translate-y-1/2 transform text-gray-500 hover:text-blue-600", children: showPassword ? (0, jsx_runtime_1.jsx)(lucide_react_1.EyeOff, { size: 16 }) : (0, jsx_runtime_1.jsx)(lucide_react_1.Eye, { size: 16 }) })] }), errors.password && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", children: errors.password.message }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-2", children: [(0, jsx_runtime_1.jsxs)(label_1.Label, { htmlFor: "confirmPassword", className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.Lock, { size: 16, className: "text-blue-600" }), "Confirmar Contrase\u00F1a"] }), (0, jsx_runtime_1.jsxs)("div", { className: "relative", children: [(0, jsx_runtime_1.jsx)(input_1.Input, { ...register('confirmPassword'), id: "confirmPassword", type: showConfirmPassword ? 'text' : 'password', placeholder: "Repite tu contrase\u00F1a", className: "border-2 border-gray-200 pr-10 transition-colors focus:border-blue-500" }), (0, jsx_runtime_1.jsx)("button", { type: "button", onClick: () => setShowConfirmPassword(!showConfirmPassword), className: "absolute right-3 top-1/2 -translate-y-1/2 transform text-gray-500 hover:text-blue-600", children: showConfirmPassword ? (0, jsx_runtime_1.jsx)(lucide_react_1.EyeOff, { size: 16 }) : (0, jsx_runtime_1.jsx)(lucide_react_1.Eye, { size: 16 }) })] }), errors.confirmPassword && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", children: errors.confirmPassword.message }))] }), (0, jsx_runtime_1.jsxs)("div", { className: "rounded-lg bg-blue-50 p-4", children: [(0, jsx_runtime_1.jsx)("h4", { className: "mb-2 font-medium text-blue-900", children: "Requisitos de contrase\u00F1a:" }), (0, jsx_runtime_1.jsxs)("ul", { className: "space-y-1 text-sm text-blue-800", children: [(0, jsx_runtime_1.jsxs)("li", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { className: watchedFields.password?.length >= 8 ? 'text-green-600' : 'text-gray-400', children: watchedFields.password?.length >= 8 ? '✓' : '○' }), "M\u00EDnimo 8 caracteres"] }), (0, jsx_runtime_1.jsxs)("li", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { className: /[A-Z]/.test(watchedFields.password || '')
                                                                    ? 'text-green-600'
                                                                    : 'text-gray-400', children: /[A-Z]/.test(watchedFields.password || '') ? '✓' : '○' }), "Al menos una may\u00FAscula"] }), (0, jsx_runtime_1.jsxs)("li", { className: "flex items-center gap-2", children: [(0, jsx_runtime_1.jsx)("span", { className: /[0-9]/.test(watchedFields.password || '')
                                                                    ? 'text-green-600'
                                                                    : 'text-gray-400', children: /[0-9]/.test(watchedFields.password || '') ? '✓' : '○' }), "Al menos un n\u00FAmero"] })] })] })] }, "step-2")), currentStep === 3 && ((0, jsx_runtime_1.jsxs)(framer_motion_1.motion.div, { initial: { opacity: 0, x: 20 }, animate: { opacity: 1, x: 0 }, exit: { opacity: 0, x: -20 }, className: "space-y-6", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("h3", { className: "mb-2 text-xl font-semibold text-gray-900", children: "Confirmaci\u00F3n" }), (0, jsx_runtime_1.jsx)("p", { className: "mb-6 text-gray-600", children: "Revisa tu informaci\u00F3n y acepta nuestros t\u00E9rminos" })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-3 rounded-lg bg-gray-50 p-6", children: [(0, jsx_runtime_1.jsx)("h4", { className: "font-medium text-gray-900", children: "Resumen de tu cuenta:" }), (0, jsx_runtime_1.jsxs)("div", { className: "grid grid-cols-2 gap-4 text-sm", children: [(0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "text-gray-600", children: "Nombre:" }), (0, jsx_runtime_1.jsxs)("p", { className: "font-medium", children: [watchedFields.firstName, " ", watchedFields.lastName] })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "text-gray-600", children: "Email:" }), (0, jsx_runtime_1.jsx)("p", { className: "font-medium", children: watchedFields.email })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "text-gray-600", children: "Empresa:" }), (0, jsx_runtime_1.jsx)("p", { className: "font-medium", children: watchedFields.company })] }), (0, jsx_runtime_1.jsxs)("div", { children: [(0, jsx_runtime_1.jsx)("span", { className: "text-gray-600", children: "Cargo:" }), (0, jsx_runtime_1.jsx)("p", { className: "font-medium", children: watchedFields.jobTitle })] })] })] }), (0, jsx_runtime_1.jsxs)("div", { className: "space-y-4", children: [(0, jsx_runtime_1.jsxs)("div", { className: "flex items-start space-x-3", children: [(0, jsx_runtime_1.jsx)(checkbox_1.Checkbox, { ...register('acceptTerms'), id: "acceptTerms", className: "mt-1" }), (0, jsx_runtime_1.jsxs)(label_1.Label, { htmlFor: "acceptTerms", className: "text-sm leading-relaxed text-gray-700", children: ["Acepto los", ' ', (0, jsx_runtime_1.jsx)("a", { href: "#", className: "font-medium text-blue-600 hover:underline", children: "T\u00E9rminos de Servicio" }), ' ', "y la", ' ', (0, jsx_runtime_1.jsx)("a", { href: "#", className: "font-medium text-blue-600 hover:underline", children: "Pol\u00EDtica de Privacidad" }), ' ', "de a4co"] })] }), errors.acceptTerms && ((0, jsx_runtime_1.jsx)("p", { className: "text-sm text-red-600", children: errors.acceptTerms.message })), (0, jsx_runtime_1.jsxs)("div", { className: "flex items-start space-x-3", children: [(0, jsx_runtime_1.jsx)(checkbox_1.Checkbox, { ...register('newsletter'), id: "newsletter", className: "mt-1" }), (0, jsx_runtime_1.jsx)(label_1.Label, { htmlFor: "newsletter", className: "text-sm leading-relaxed text-gray-700", children: "Quiero recibir actualizaciones de productos, noticias de la industria y ofertas especiales de a4co" })] })] })] }, "step-3"))] }), (0, jsx_runtime_1.jsxs)("div", { className: "mt-8 flex justify-between", children: [(0, jsx_runtime_1.jsxs)(button_1.Button, { type: "button", onClick: prevStep, disabled: currentStep === 0, variant: "outline", className: "flex items-center gap-2 border-gray-300 bg-transparent", children: [(0, jsx_runtime_1.jsx)(lucide_react_1.ArrowLeft, { size: 16 }), "Anterior"] }), currentStep < stepLabels.length - 1 ? ((0, jsx_runtime_1.jsxs)(button_1.Button, { type: "button", onClick: nextStep, className: "flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700", children: ["Siguiente", (0, jsx_runtime_1.jsx)(lucide_react_1.ArrowRight, { size: 16 })] })) : ((0, jsx_runtime_1.jsx)(button_1.Button, { type: "submit", disabled: isLoading, className: "flex min-w-[120px] items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700", children: isLoading ? ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: [(0, jsx_runtime_1.jsx)("div", { className: "h-4 w-4 animate-spin rounded-full border-2 border-white border-t-transparent" }), "Creando..."] })) : ((0, jsx_runtime_1.jsxs)(jsx_runtime_1.Fragment, { children: ["Crear Cuenta", (0, jsx_runtime_1.jsx)(lucide_react_1.ArrowRight, { size: 16 })] })) }))] })] })] }));
}
//# sourceMappingURL=a4co-signup-form.js.map