# ================================================================================
# Preview Environment Variables
# ================================================================================
# This file defines environment variables for the preview/staging environment
# Copy this file to .env.preview and adjust values as needed
#
# USAGE:
#   cp .env.preview.example .env.preview
#   # Edit .env.preview with your values
#   docker-compose -f docker-compose.preview.yml --env-file .env.preview up -d
# ================================================================================

# ----------------------------------------------------------------
# ENVIRONMENT
# ----------------------------------------------------------------
NODE_ENV=preview

# ----------------------------------------------------------------
# DATABASE CONFIGURATION
# ----------------------------------------------------------------
POSTGRES_USER=postgres
POSTGRES_PASSWORD=preview_password_change_me
POSTGRES_DB=microservices_db
POSTGRES_PORT=5432

# ----------------------------------------------------------------
# REDIS CONFIGURATION
# ----------------------------------------------------------------
REDIS_PASSWORD=preview_redis_password

# ----------------------------------------------------------------
# JWT AUTHENTICATION
# ----------------------------------------------------------------
# JWT Secret for token signing (use a strong secret)
JWT_SECRET=preview_jwt_secret_change_in_production_openssl_rand_base64_32
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d

# ----------------------------------------------------------------
# PAYMENT GATEWAY (TEST MODE)
# ----------------------------------------------------------------
# Use simulated payment for preview/testing
USE_SIMULATED_PAYMENT=true
PAYMENT_SUCCESS_RATE=0.9

# Stripe test keys (only for testing, not production)
STRIPE_SECRET_KEY=sk_test_your_stripe_test_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_test_secret

# ----------------------------------------------------------------
# API GATEWAY CONFIGURATION
# ----------------------------------------------------------------
PROXY_TIMEOUT=30000
RATE_LIMIT_TTL=60
RATE_LIMIT_MAX=1000

# ----------------------------------------------------------------
# CORS CONFIGURATION
# ----------------------------------------------------------------
# Allow frontend applications to access the API
CORS_ORIGIN=http://localhost:3001,http://localhost:5173,http://localhost:8080

# ----------------------------------------------------------------
# FRONTEND CONFIGURATION
# ----------------------------------------------------------------
# API URL for frontend applications
VITE_API_URL=http://localhost:8080/api
NEXT_PUBLIC_API_URL=http://localhost:8080/api

# ----------------------------------------------------------------
# LOGGING
# ----------------------------------------------------------------
# Log level: error, warn, info, debug
LOG_LEVEL=debug

# ----------------------------------------------------------------
# OBSERVABILITY (Optional)
# ----------------------------------------------------------------
# Sentry DSN for error tracking (optional)
SENTRY_DSN=

# OpenTelemetry configuration (optional)
OTEL_EXPORTER_OTLP_ENDPOINT=
OTEL_SERVICE_NAME=a4co-preview

# ----------------------------------------------------------------
# FEATURE FLAGS
# ----------------------------------------------------------------
ENABLE_SWAGGER_DOCS=true
ENABLE_DEBUG_ENDPOINTS=true
ENABLE_METRICS_ENDPOINT=true
